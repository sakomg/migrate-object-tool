<template>
  <div if:true={loading}>
    <lightning-spinner alternative-text="Loading..." size="small"></lightning-spinner>
  </div>
  <div>
    <i>Choose fields to transfer data.</i>
  </div>
  <div class="pair-container">
    <div class="pair">
      <div class="indicator-icon"></div>
      <p class="slds-form-element__label">From Field</p>
      <p class="slds-form-element__label">To Field</p>
      <div class="delete-icon"></div>
    </div>

    <template for:each={fieldPairs} for:item="pair" for:index="idx">
      <div
        draggable="true"
        class="drag"
        key={pair.index}
        ondragstart={handleDragStart}
        ondragover={handleDragOver}
        ondragend={handleDragEnd}
        data-index={idx}
      >
        <c-migrate-object-tool-field-pair
          pair={pair}
          so-field-options={soFieldOptions}
          bo-field-options={boFieldOptions}
          onfieldchange={handleObjectFieldChange}
          ondeletepair={handleDeleteIconClick}
        ></c-migrate-object-tool-field-pair>
      </div>
    </template>
  </div>
</template>